{"version":3,"file":"index.js","sources":["../../../../src/components/InputField/index.tsx"],"sourcesContent":["import React, { forwardRef, useState } from 'react';\nimport Box, { MarginProps } from '../Box';\nimport useWdgsId from '../../hooks/useWdsId';\nimport extractProps from '../../helpers/extractProps/extractProps';\nimport styles from './InputField.module.scss';\nimport FieldWrapper from '../FieldWrapper';\nimport FloatingText from '../FieldWrapper/FloatingText';\nimport VisuallyHidden from '../VisuallyHidden';\nimport FieldError from '../FieldError';\nimport HelperText from '../FieldWrapper/HelperText';\n\nexport interface Props extends React.ComponentPropsWithoutRef<'input'>, MarginProps {\n  label?: React.ReactNode;\n  icon?: React.ReactNode;\n  errorText?: React.ReactNode;\n  helperText?: React.ReactNode;\n}\n\nconst InputField = forwardRef<HTMLInputElement, Props>(function InputField(\n  { label, icon, errorText, helperText, ...rest },\n  ref,\n) {\n  const id = useWdgsId();\n  const [isFocused, setIsFocused] = useState(false);\n\n  const onFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(true);\n    if (rest.onFocus) {\n      rest.onFocus(event);\n    }\n  };\n  const onBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    setIsFocused(false);\n    if (rest.onBlur) {\n      rest.onBlur(event);\n    }\n  };\n\n  const [containerStyleProps, inputProps] = extractProps(rest);\n  const hasError =\n    Boolean(rest['aria-invalid']) || (rest['aria-invalid'] === undefined && Boolean(errorText));\n\n  return (\n    <Box {...containerStyleProps}>\n      <FieldWrapper\n        hasError={hasError}\n        isFieldFocused={isFocused}\n        disabled={rest.disabled}\n        icon={icon}\n      >\n        <input\n          type=\"text\"\n          className={styles.input}\n          placeholder=\" \"\n          {...inputProps}\n          id={id}\n          ref={ref}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          aria-labelledby={`${id}-label`}\n          aria-invalid={hasError}\n        />\n        <FloatingText\n          htmlFor={id}\n          hasError={hasError}\n          isFieldFocused={isFocused}\n          disabled={rest.disabled}\n          hasIcon={Boolean(icon)}\n          isOptional={!rest.required}\n        >\n          {label}\n        </FloatingText>\n      </FieldWrapper>\n      {hasError && errorText && (\n        <div id={`${id}-error-text`}>\n          <FieldError marginTop={75}>{errorText}</FieldError>\n          <VisuallyHidden>.</VisuallyHidden>\n        </div>\n      )}\n      {helperText && (\n        <div id={`${id}-helper-text`}>\n          <HelperText>{helperText}</HelperText>\n          <VisuallyHidden>.</VisuallyHidden>\n        </div>\n      )}\n    </Box>\n  );\n});\n\nexport default InputField;\n"],"names":["InputField","forwardRef","_a","ref","label","icon","errorText","helperText","rest","__rest","id","useWdgsId","isFocused","setIsFocused","useState","onFocus","event","onBlur","containerStyleProps","inputProps","extractProps","hasError","Boolean","undefined","React","createElement","Box","FieldWrapper","isFieldFocused","disabled","_extends","type","className","styles","input","placeholder","FloatingText","htmlFor","hasIcon","isOptional","required","FieldError","marginTop","VisuallyHidden","HelperText"],"mappings":"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"}