{"version":3,"file":"index.js","sources":["../../../../src/components/Select/index.tsx"],"sourcesContent":["import React, { forwardRef, useState } from 'react';\nimport Box, { MarginProps } from '../Box';\nimport useWdsId from '../../hooks/useWdsId';\nimport extractProps from '../../helpers/extractProps/extractProps';\nimport FieldWrapper from '../FieldWrapper';\nimport Text from '../Text';\nimport styles from './Select.module.scss';\nimport FloatingText from '../FieldWrapper/FloatingText';\nimport VisuallyHidden from '../VisuallyHidden';\nimport FieldError from '../FieldError';\nimport HelperText from '../FieldWrapper/HelperText';\nimport IconArrowDown from '../Icons/_icons/IconArrowDown';\n\ninterface Props extends Omit<React.ComponentPropsWithoutRef<'select'>, 'color'>, MarginProps {\n  label: string;\n  placeholder?: string;\n  errorText?: string;\n  helperText?: string;\n  children: React.ReactNode;\n}\n\nconst Select = forwardRef<HTMLSelectElement, Props>(function Select(\n  { label, placeholder, errorText, helperText, children, ...rest },\n  ref,\n) {\n  const id = useWdsId();\n  const [isFocused, setIsFocused] = useState(false);\n\n  const onFocus = (event: React.FocusEvent<HTMLSelectElement>) => {\n    setIsFocused(true);\n    if (rest.onFocus) {\n      rest.onFocus(event);\n    }\n  };\n\n  const onBlur = (event: React.FocusEvent<HTMLSelectElement>) => {\n    setIsFocused(false);\n    if (rest.onBlur) {\n      rest.onBlur(event);\n    }\n  };\n\n  const [containerStyleProps, selectProps] = extractProps(rest);\n\n  const hasError =\n    Boolean(rest['aria-invalid']) || (rest['aria-invalid'] === undefined && Boolean(errorText));\n\n  return (\n    <Box {...containerStyleProps}>\n      <FieldWrapper hasError={hasError} isFieldFocused={isFocused} disabled={rest.disabled}>\n        <Text\n          as=\"select\"\n          {...selectProps}\n          ref={ref}\n          id={id}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          aria-labelledby={`${id}-label`}\n          aria-invalid={hasError}\n          variant={'body-md'}\n          color={rest.disabled ? 'neutral-600' : 'neutral-black'}\n          paddingY={125}\n          paddingLeft={200}\n          className={styles.select}\n        >\n          {placeholder && (\n            <option className={styles.placeholder} value=\"\">\n              {placeholder}\n            </option>\n          )}\n          {children}\n        </Text>\n        <FloatingText\n          htmlFor={id}\n          hasError={hasError}\n          isFieldFocused={isFocused}\n          disabled={rest.disabled}\n          isOptional={!rest.required}\n          stayAfloat={true}\n        >\n          {label}\n        </FloatingText>\n        <span aria-hidden=\"true\" className={styles.icon}>\n          <IconArrowDown\n            className={isFocused ? styles['icon-arrow'] : undefined}\n            color={rest.disabled ? 'neutral-400' : 'active-800'}\n            variant=\"lg\"\n          />\n        </span>\n      </FieldWrapper>\n      {hasError && errorText && (\n        <div id={`${id}-error-text`}>\n          <FieldError marginTop={75}>{errorText}</FieldError>\n          <VisuallyHidden>.</VisuallyHidden>\n        </div>\n      )}\n      {helperText && (\n        <div id={`${id}-helper-text`}>\n          <HelperText>{helperText}</HelperText>\n          <VisuallyHidden>.</VisuallyHidden>\n        </div>\n      )}\n    </Box>\n  );\n});\n\nexport default Select;\n"],"names":["Select","forwardRef","_a","ref","label","placeholder","errorText","helperText","children","rest","__rest","id","useWdsId","isFocused","setIsFocused","useState","onFocus","event","onBlur","containerStyleProps","selectProps","extractProps","hasError","Boolean","undefined","React","createElement","Box","FieldWrapper","isFieldFocused","disabled","Text","_extends","as","variant","color","paddingY","paddingLeft","className","styles","select","value","FloatingText","htmlFor","isOptional","required","stayAfloat","icon","IconArrowDown","FieldError","marginTop","VisuallyHidden","HelperText"],"mappings":"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"}